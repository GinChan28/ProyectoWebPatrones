<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
    <head th:replace="general/fragmentos :: head('Nueva Cita')"></head>
    <body>
        <div th:replace="general/fragmentos :: header"></div>

        <main class="container mt-4">
            <h2>Nueva Cita</h2>

            <form th:action="@{/cita/crear}" method="post" class="mt-3">
                <div class="mb-3">
                    <label class="form-label">Veh√≠culo</label>
                    <select class="form-select" name="idVehiculo" required>
                        <option th:each="v : ${vehiculos}" th:value="${v.idVehiculo}" th:text="${v.placa}">ABC123</option>
                    </select>
                </div>

                <div class="mb-3">
                    <label class="form-label">Servicio</label>
                    <select class="form-select" name="idServicio" required>
                        <option th:each="s : ${servicios}" th:value="${s.idServicio}" th:text="${s.nombre}">Servicio</option>
                    </select>
                </div>

                <div class="row g-3">
                    <div class="col-md-4">
                        <label class="form-label">Fecha</label>
                        <input class="form-control" type="date" name="fecha" required>
                    </div>
                    <div class="col-md-4">
                        <label class="form-label">Hora</label>
                        <input class="form-control" type="time" name="hora" required>
                    </div>
                </div>

                <!-- Si tienes Spring Security habilitado, deja este input -->
                <input type="hidden"
                       th:if="${_csrf != null}"
                       th:name="${_csrf.parameterName}"
                       th:value="${_csrf.token}"/>

                <div class="mt-3">
                    <button class="btn btn-primary">Guardar</button>
                    <a class="btn btn-secondary" th:href="@{/cita/lista}">Cancelar</a>
                </div>
            </form>
        </main>

        <div th:replace="general/fragmentos :: footer"></div>
    </body>
</html>
